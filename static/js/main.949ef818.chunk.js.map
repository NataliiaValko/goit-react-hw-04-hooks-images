{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","service/image-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/App/App.module.css"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSubmit","useState","query","setQuery","header","e","preventDefault","toast","error","searchForm","searchForm__input","name","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","trim","searchForm__button","icon","keyPixabay","apiPixabay","fetchImage","page","fetch","then","response","json","ImageGalleryItem","openModal","toggleOnLoading","webformatURL","largeImageURL","tags","onClick","target","dataset","large","src","alt","ImageGalleryItem__image","ImageGallery","images","imageGallery__list","map","id","Button","handleIncrement","button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","handleOnClose","removeEventListener","code","createPortal","backdrop","content","Loader","loader","color","height","width","loader__text","Status","App","setImages","setPage","setError","status","setStatus","total","setTotal","showModal","setShowModal","urlModal","seUrlModal","onLoading","setOnLoading","onGetImages","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","txt","toggleShowModal","gallery","gallery__request","gallery__error","gallery__text","url","onLoad","modal__image","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.949ef818.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1jrDa\",\"content\":\"Modal_content__1NzdB\",\"button\":\"Modal_button__xEu6N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__TEViM\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__s0h2Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1qs9I\",\"loader__text\":\"Loader_loader__text__2gb8A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3-OcI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery__list\":\"ImageGallery_imageGallery__list__3JaI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3gINQ\"};","import s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\nimport { toast } from \"react-toastify\";\nimport Container from \"../Container\";\nimport s from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState(\"\");\n\n  const handleQueryChange = (e) => {\n    setQuery(e.currentTarget.value.toLowerCase().trim());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    !query && toast.error(\"Please, enter your request!\");\n    query && onSubmit(query);\n    query && setQuery(\"\");\n  };\n\n  return (\n    <header className={s.header}>\n      <Container>\n        <form onSubmit={handleSubmit} className={s.searchForm}>\n          <input\n            className={s.searchForm__input}\n            name=\"queryToSearch\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleQueryChange}\n            value={query}\n          />\n          <button type=\"submit\" className={s.searchForm__button}>\n            <BsSearch className={s.icon} />\n          </button>\n        </form>\n      </Container>\n    </header>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","const keyPixabay = \"22065853-88fcaf807f7c22500af22ab22\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${keyPixabay}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\n\nconst apiPixabay = {\n  fetchImage,\n};\nexport default apiPixabay;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({\n  openModal,\n  toggleOnLoading,\n  webformatURL,\n  largeImageURL,\n  tags = \"photo\",\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={(e) => {\n          openModal(e.target.dataset.large);\n          toggleOnLoading();\n        }}\n        src={webformatURL}\n        data-large={largeImageURL}\n        alt={tags}\n        className={s.ImageGalleryItem__image}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  toggleOnLoading: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, toggleOnLoading, openModal }) => {\n  return (\n    <>\n      <ul className={s.imageGallery__list}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            openModal={openModal}\n            toggleOnLoading={toggleOnLoading}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            tags={tags}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  toggleOnLoading: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ handleIncrement }) => (\n  <button type=\"button\" className={s.button} onClick={handleIncrement}>\n    Load more\n  </button>\n);\n\nexport default Button;\n\nButton.propTypes = {\n  handleIncrement: PropTypes.func.isRequired,\n};\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { GrClose } from \"react-icons/gr\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  const handleOnClose = () => {\n    window.removeEventListener(\"keydown\", handleKeyDown);\n    onClose();\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      handleOnClose();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      handleOnClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.backdrop} onClick={handleBackdropClick}>\n      <div className={s.content}>\n        <button type=\"button\" className={s.button} onClick={handleOnClose}>\n          <GrClose />\n        </button>\n        {children}\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","import CustomLoader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst Loader = () => (\n  <div className={s.loader}>\n    <CustomLoader type=\"Bars\" color=\"#5ab1e4\" height={80} width={80} />\n    <p className={s.loader__text}>Loading...</p>\n  </div>\n);\n\nexport default Loader;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"../Searchbar\";\nimport apiPixabay from \"../../service/image-api\";\nimport Container from \"../Container\";\nimport ImageGallery from \"../ImageGallery\";\nimport Button from \"../Button\";\nimport Modal from \"../Modal\";\nimport Loader from \"../Loader\";\nimport s from \"./App.module.css\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n  LOADING: \"loading\",\n};\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(Status.IDLE);\n  const [total, setTotal] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [urlModal, seUrlModal] = useState(\"\");\n  const [onLoading, setOnLoading] = useState(false);\n\n  const onGetImages = (query, page) => {\n    if (query === \"\") return;\n\n    apiPixabay\n      .fetchImage(query, page)\n      .then(({ hits, total }) => {\n        setImages([...images, ...hits]);\n        setTotal(total / 12 > 500 ? 500 : total / 12);\n\n        hits[0] ? setStatus(Status.RESOLVED) : setStatus(Status.REJECTED);\n\n        !hits[0] &&\n          setError(\n            \"We couldn’t find anything =/. Change your request, please!\"\n          );\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((txt) => {\n        setStatus(Status.REJECTED);\n        setError(`${txt}`);\n      });\n  };\n\n  useEffect(() => {\n    if (status === Status.IDLE) {\n      return;\n    }\n\n    if (status === Status.LOADING) {\n      setError(\"\");\n      setStatus(Status.PENDING);\n      onGetImages(query, page);\n    }\n\n    if (status !== Status.LOADING) {\n      setError(\"\");\n      onGetImages(query, page);\n    }\n  }, [query, page]);\n\n  const toggleShowModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const toggleOnLoading = () => {\n    setOnLoading(!onLoading);\n  };\n\n  const openModal = (url) => {\n    toggleShowModal();\n    seUrlModal(url);\n  };\n\n  const closeModal = () => {\n    toggleShowModal();\n    seUrlModal(\"\");\n  };\n\n  const handleFormSubmit = (query) => {\n    setImages([]);\n    setQuery(query);\n    setPage(1);\n    setStatus(Status.LOADING);\n    setTotal(null);\n  };\n\n  const handleIncrement = () => {\n    setPage(page + 1);\n  };\n\n  return (\n    <>\n      <ToastContainer />\n      <Searchbar onSubmit={handleFormSubmit} />\n      <section className={s.gallery}>\n        <Container>\n          {status === Status.IDLE && (\n            <p className={s.gallery__request}>Please, enter your request!</p>\n          )}\n\n          {status === Status.REJECTED && (\n            <p className={s.gallery__error}>Oops! {error}</p>\n          )}\n          {status === Status.RESOLVED && (\n            <>\n              <p className={s.gallery__text}>Results on request of \"{query}\"</p>\n              <ImageGallery\n                images={images}\n                openModal={openModal}\n                toggleOnLoading={toggleOnLoading}\n              />\n              {page < total && <Button handleIncrement={handleIncrement} />}\n            </>\n          )}\n          {status === Status.PENDING && <Loader />}\n        </Container>\n      </section>\n      {showModal && (\n        <Modal onClose={closeModal}>\n          {onLoading && <Loader />}\n          <img\n            onLoad={toggleOnLoading}\n            src={urlModal}\n            alt=\"\"\n            className={s.modal__image}\n          />\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__QA1f2\",\"searchForm\":\"Searchbar_searchForm___D7mr\",\"searchForm__input\":\"Searchbar_searchForm__input__1tdoV\",\"searchForm__button\":\"Searchbar_searchForm__button__3-9Vx\",\"icon\":\"Searchbar_icon__2BcYY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"App_gallery__wsnBj\",\"gallery__text\":\"App_gallery__text__2_5cC\",\"gallery__request\":\"App_gallery__request__1HOER\",\"gallery__error\":\"App_gallery__error__3qd-d\",\"modal__image\":\"App_modal__image__33QsG\"};"],"sourceRoot":""}