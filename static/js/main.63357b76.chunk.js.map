{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","service/image-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/App/App.js","index.js","components/App/App.module.css"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSubmit","useState","query","setQuery","header","e","preventDefault","toast","error","searchForm","searchForm__input","name","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","trim","searchForm__button","icon","keyPixabay","apiPixabay","fetchImage","page","fetch","then","response","json","ImageGalleryItem","openModal","toggleOnLoading","webformatURL","largeImageURL","tags","onClick","target","dataset","large","src","alt","ImageGalleryItem__image","ImageGallery","images","imageGallery__list","map","id","Button","handleIncrement","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","event","window","addEventListener","this","removeEventListener","createPortal","backdrop","content","Component","Loader","loader","color","height","width","loader__text","Status","App","state","status","total","showModal","urlModal","onLoading","url","setState","closeModal","handleFormSubmit","hits","catch","txt","prevProps","prevState","newQuery","newPage","onGetImages","scrollTo","top","documentElement","scrollHeight","behavior","gallery","gallery__request","gallery__error","gallery__text","onLoad","modal__image","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.63357b76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1jrDa\",\"content\":\"Modal_content__1NzdB\",\"button\":\"Modal_button__xEu6N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__TEViM\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__s0h2Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1qs9I\",\"loader__text\":\"Loader_loader__text__2gb8A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3-OcI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery__list\":\"ImageGallery_imageGallery__list__3JaI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3gINQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__QA1f2\",\"searchForm\":\"Searchbar_searchForm___D7mr\",\"searchForm__input\":\"Searchbar_searchForm__input__1tdoV\",\"searchForm__button\":\"Searchbar_searchForm__button__3-9Vx\",\"icon\":\"Searchbar_icon__2BcYY\"};","import s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import PropTypes from \"prop-types\";\nimport { useState, useEffect } from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\nimport { toast } from \"react-toastify\";\nimport Container from \"../Container\";\nimport s from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState(\"\");\n\n  const handleQueryChange = (e) => {\n    setQuery(e.currentTarget.value.toLowerCase().trim());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    !query && toast.error(\"Please, enter your request!\");\n    query && onSubmit(query);\n    query && setQuery(\"\");\n  };\n\n  return (\n    <header className={s.header}>\n      <Container>\n        <form onSubmit={handleSubmit} className={s.searchForm}>\n          <input\n            className={s.searchForm__input}\n            name=\"queryToSearch\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleQueryChange}\n            value={query}\n          />\n          <button type=\"submit\" className={s.searchForm__button}>\n            <BsSearch className={s.icon} />\n          </button>\n        </form>\n      </Container>\n    </header>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","const keyPixabay = \"22065853-88fcaf807f7c22500af22ab22\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${keyPixabay}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\n\nconst apiPixabay = {\n  fetchImage,\n};\nexport default apiPixabay;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({\n  openModal,\n  toggleOnLoading,\n  webformatURL,\n  largeImageURL,\n  tags = \"photo\",\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={(e) => {\n          openModal(e.target.dataset.large);\n          toggleOnLoading();\n        }}\n        src={webformatURL}\n        data-large={largeImageURL}\n        alt={tags}\n        className={s.ImageGalleryItem__image}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  toggleOnLoading: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, toggleOnLoading, openModal }) => {\n  return (\n    <>\n      <ul className={s.imageGallery__list}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            openModal={openModal}\n            toggleOnLoading={toggleOnLoading}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            tags={tags}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  toggleOnLoading: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ handleIncrement }) => (\n  <button type=\"button\" className={s.button} onClick={handleIncrement}>\n    Load more\n  </button>\n);\n\nexport default Button;\n\nButton.propTypes = {\n  handleIncrement: PropTypes.func.isRequired,\n};\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { GrClose } from \"react-icons/gr\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.content}>\n          <button\n            type=\"button\"\n            className={s.button}\n            onClick={this.props.onClose}\n          >\n            <GrClose />\n          </button>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import CustomLoader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst Loader = () => (\n  <div className={s.loader}>\n    <CustomLoader type=\"Bars\" color=\"#5ab1e4\" height={80} width={80} />\n    <p className={s.loader__text}>Loading...</p>\n  </div>\n);\n\nexport default Loader;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import Gallery from \"../Gallery\";\nimport Searchbar from \"../Searchbar\";\nimport apiPixabay from \"../../service/image-api\";\nimport Container from \"../Container\";\nimport ImageGallery from \"../ImageGallery\";\nimport Button from \"../Button\";\nimport Modal from \"../Modal\";\nimport Loader from \"../Loader\";\nimport s from \"./App.module.css\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n  MORE_LOAD: \"moreLoad\",\n};\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    page: 1,\n    error: \"\",\n    status: Status.IDLE,\n    total: null,\n    showModal: false,\n    urlModal: \"\",\n    onLoading: false,\n  };\n\n  onGetImages(query, page) {\n    apiPixabay\n      .fetchImage(query, page)\n      .then(({ hits, total }) => {\n        this.setState({\n          images: [...this.state.images, ...hits],\n          total: total / 12 > 500 ? 500 : total / 12,\n        });\n\n        hits[0]\n          ? this.setState({ status: Status.RESOLVED })\n          : this.setState({\n              status: Status.REJECTED,\n              error:\n                \"We couldn’t find anything =/. Change your request, please!\",\n            });\n      })\n      .catch((txt) => {\n        this.setState({ status: Status.REJECTED, error: `${txt}` });\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const newQuery = this.state.query;\n    const newPage = this.state.page;\n\n    if (prevState.page !== newPage || prevState.query !== newQuery) {\n      this.setState({ error: \"\" });\n      this.onGetImages(newQuery, newPage);\n    }\n\n    if (!this.state.showModal && !prevState.showModal) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  openModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      urlModal: url,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      urlModal: \"\",\n    }));\n  };\n\n  toggleOnLoading = () => {\n    this.setState(({ onLoading }) => ({ onLoading: !onLoading }));\n  };\n\n  handleFormSubmit = (query) => {\n    this.setState({ images: [], query, page: 1, status: Status.PENDING });\n  };\n\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  render() {\n    const {\n      query,\n      images,\n      page,\n      error,\n      status,\n      total,\n      onLoading,\n      showModal,\n      urlModal,\n    } = this.state;\n\n    return (\n      <>\n        <ToastContainer />\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <section className={s.gallery}>\n          <Container>\n            {status === \"idle\" && (\n              <p className={s.gallery__request}>Please, enter your request!</p>\n            )}\n            {status === \"pending\" && <Loader />}\n            {status === \"rejected\" && (\n              <p className={s.gallery__error}>Oops! {error}</p>\n            )}\n            {status === \"resolved\" && (\n              <>\n                <p className={s.gallery__text}>\n                  Results on request of \"{query}\"\n                </p>\n                <ImageGallery\n                  images={images}\n                  openModal={this.openModal}\n                  toggleOnLoading={this.toggleOnLoading}\n                />\n                {page < total && (\n                  <Button handleIncrement={this.handleIncrement} />\n                )}\n              </>\n            )}\n          </Container>\n        </section>\n\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            {onLoading && <Loader />}\n            <img\n              onLoad={this.toggleOnLoading}\n              src={urlModal}\n              alt=\"\"\n              className={s.modal__image}\n            />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"App_gallery__wsnBj\",\"gallery__text\":\"App_gallery__text__2_5cC\",\"gallery__request\":\"App_gallery__request__1HOER\",\"gallery__error\":\"App_gallery__error__3qd-d\",\"modal__image\":\"App_modal__image__33QsG\"};"],"sourceRoot":""}